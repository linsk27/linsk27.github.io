<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content=" åˆæ­¥æ¥è§¦ Nginx ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ Nginxï¼ˆengine xï¼‰ æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP é‚®ä»¶ä»£ç†æœåŠ¡å™¨ã€‚\nç”± Igor Sysoev ç¼–å†™ï¼Œæœ€åˆç”¨äºä¿„ç½—æ–¯è®¿é—®é‡æœ€å¤§çš„ç½‘ç«™ä¹‹ä¸€ã€‚å¦‚ä»Šï¼Œå®ƒå¹¿æ³›åº”ç”¨äºå„ç±»ç½‘ç«™çš„ï¼š\n">
<title>åˆæ­¥æ¥è§¦Nginx</title>

<link rel='canonical' href='https://linsk27.github.io/p/0423-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6nginx/'>

<link rel="stylesheet" href="/scss/style.min.bc2abce7b280c937652ff91193111ba640a7a3d53e370803422a6138d0c6e249.css"><meta property='og:title' content="åˆæ­¥æ¥è§¦Nginx">
<meta property='og:description' content=" åˆæ­¥æ¥è§¦ Nginx ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ Nginxï¼ˆengine xï¼‰ æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP é‚®ä»¶ä»£ç†æœåŠ¡å™¨ã€‚\nç”± Igor Sysoev ç¼–å†™ï¼Œæœ€åˆç”¨äºä¿„ç½—æ–¯è®¿é—®é‡æœ€å¤§çš„ç½‘ç«™ä¹‹ä¸€ã€‚å¦‚ä»Šï¼Œå®ƒå¹¿æ³›åº”ç”¨äºå„ç±»ç½‘ç«™çš„ï¼š\n">
<meta property='og:url' content='https://linsk27.github.io/p/0423-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6nginx/'>
<meta property='og:site_name' content='404_@æ—è¾¾'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Nginx' /><meta property='article:published_time' content='2025-04-23T12:25:57&#43;08:00'/><meta property='article:modified_time' content='2025-06-01T12:25:57&#43;08:00'/>
<meta name="twitter:title" content="åˆæ­¥æ¥è§¦Nginx">
<meta name="twitter:description" content=" åˆæ­¥æ¥è§¦ Nginx ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ Nginxï¼ˆengine xï¼‰ æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP é‚®ä»¶ä»£ç†æœåŠ¡å™¨ã€‚\nç”± Igor Sysoev ç¼–å†™ï¼Œæœ€åˆç”¨äºä¿„ç½—æ–¯è®¿é—®é‡æœ€å¤§çš„ç½‘ç«™ä¹‹ä¸€ã€‚å¦‚ä»Šï¼Œå®ƒå¹¿æ³›åº”ç”¨äºå„ç±»ç½‘ç«™çš„ï¼š\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended">


        <div id="article-toolbar" style="position: sticky;top: 5px;z-index: 1000;">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>è¿”å›</span>
            </a>
        </div>
    

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#åˆæ­¥æ¥è§¦-nginx">åˆæ­¥æ¥è§¦ Nginx</a>
      <ol>
        <li><a href="#ä»€ä¹ˆæ˜¯-nginx">ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ</a></li>
        <li><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-nginx">ä¸ºä»€ä¹ˆä½¿ç”¨ Nginxï¼Ÿ</a></li>
        <li><a href="#å®‰è£…-nginx">å®‰è£… Nginx</a>
          <ol>
            <li><a href="#1-å®‰è£…ä¾èµ–">1. å®‰è£…ä¾èµ–</a></li>
            <li><a href="#2-ä¸‹è½½å¹¶è§£å‹-nginx">2. ä¸‹è½½å¹¶è§£å‹ Nginx</a></li>
            <li><a href="#3-ç¼–è¯‘å®‰è£…">3. ç¼–è¯‘å®‰è£…</a></li>
          </ol>
        </li>
        <li><a href="#-å¸¸ç”¨å‘½ä»¤æ•´ç†">ğŸš€ å¸¸ç”¨å‘½ä»¤æ•´ç†</a>
          <ol>
            <li><a href="#æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ">æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ</a></li>
          </ol>
        </li>
        <li><a href="#é…ç½®ä¸æµ‹è¯•">é…ç½®ä¸æµ‹è¯•</a>
          <ol>
            <li><a href="#-é…ç½®æ–‡ä»¶ç¤ºä¾‹nginxconf">ğŸ“„ é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆ<code>nginx.conf</code>ï¼‰</a></li>
            <li><a href="#æµ‹è¯•æ˜¯å¦æˆåŠŸ">æµ‹è¯•æ˜¯å¦æˆåŠŸ</a></li>
          </ol>
        </li>
        <li><a href="#-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#ä¸€å‡†å¤‡æ¡ä»¶">ä¸€ã€å‡†å¤‡æ¡ä»¶</a></li>
    <li><a href="#äºŒå»ºç«‹-ssl-å‡­è¯ç›®å½•å¹¶ä¸Šä¼ sslå‡­è¯æ¡£æ¡ˆ">äºŒã€å»ºç«‹ SSL å‡­è¯ç›®å½•å¹¶ä¸Šä¼ sslå‡­è¯æ¡£æ¡ˆ</a></li>
    <li><a href="#ä¸‰æ’°å†™-nginx-https-é…ç½®æ¡£">ä¸‰ã€æ’°å†™ Nginx HTTPS é…ç½®æ¡£</a></li>
    <li><a href="#å››æµ‹è¯•ä¸é‡è½½-nginx">å››ã€æµ‹è¯•ä¸é‡è½½ Nginx</a></li>
    <li><a href="#äº”éªŒè¯-https-å¯ç”¨">äº”ã€éªŒè¯ HTTPS å¯ç”¨</a></li>
    <li><a href="#å¤‡æ³¨">å¤‡æ³¨</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%B7%A5%E7%A8%8B/" >
                å·¥ç¨‹
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/0423-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6nginx/">åˆæ­¥æ¥è§¦Nginx</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-04-23</time>
            </div>
	        
        <div id="viewCount">
            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
            <time class="article-time--reading">
                
                <span id="vercount_value_page_pv">loading... </span>æ¬¡
            </time>
        </div>

        

        
    </footer>
    

    

    
</div>


</header>

    <section class="article-content">
    
    
    <hr>
<h2 id="åˆæ­¥æ¥è§¦-nginx">åˆæ­¥æ¥è§¦ Nginx
</h2><hr>
<h3 id="ä»€ä¹ˆæ˜¯-nginx">ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ
</h3><p><strong>Nginxï¼ˆengine xï¼‰</strong> æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ <strong>HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨</strong>ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª <strong>IMAP/POP3/SMTP é‚®ä»¶ä»£ç†æœåŠ¡å™¨</strong>ã€‚</p>
<p>ç”± Igor Sysoev ç¼–å†™ï¼Œæœ€åˆç”¨äºä¿„ç½—æ–¯è®¿é—®é‡æœ€å¤§çš„ç½‘ç«™ä¹‹ä¸€ã€‚å¦‚ä»Šï¼Œå®ƒå¹¿æ³›åº”ç”¨äºå„ç±»ç½‘ç«™çš„ï¼š</p>
<ul>
<li>é™æ€èµ„æºæœåŠ¡ï¼ˆå¦‚ HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰ï¼‰</li>
<li>åå‘ä»£ç†ï¼ˆæŠŠè¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ï¼‰</li>
<li>è´Ÿè½½å‡è¡¡ï¼ˆåˆ†å‘è¯·æ±‚ä»¥æå‡æ€§èƒ½ä¸å¯ç”¨æ€§ï¼‰</li>
<li>HTTPS / SSL æ”¯æŒ</li>
<li>åŠ¨æ€è¯·æ±‚çš„ç¼“å­˜ä¸å‹ç¼©å¤„ç†</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨-nginx">ä¸ºä»€ä¹ˆä½¿ç”¨ Nginxï¼Ÿ
</h3><p>Nginx è¢«å¹¿æ³›é‡‡ç”¨çš„åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li>ğŸš€ <strong>é«˜æ€§èƒ½</strong>ï¼šå¯ä»¥æ”¯æ’‘æˆåƒä¸Šä¸‡ä¸ªå¹¶å‘è¿æ¥</li>
<li>âš™ï¸ <strong>èµ„æºå ç”¨å°</strong>ï¼šå†…å­˜å ç”¨è¿œä½äº Apache</li>
<li>ğŸ” <strong>åå‘ä»£ç† + è´Ÿè½½å‡è¡¡</strong>ï¼šéå¸¸é€‚åˆéƒ¨ç½²åœ¨å¾®æœåŠ¡æ¶æ„ä¸­</li>
<li>ğŸ”’ <strong>æ”¯æŒ HTTPS / SSL</strong></li>
<li>ğŸ”§ <strong>æ¨¡å—åŒ–é…ç½®</strong>ï¼šé…ç½®çµæ´»ï¼Œæ˜“äºæ‰©å±•</li>
</ul>
<hr>
<h3 id="å®‰è£…-nginx">å®‰è£… Nginx
</h3><h4 id="1-å®‰è£…ä¾èµ–">1. å®‰è£…ä¾èµ–
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install gcc gcc-c++
</span></span><span class="line"><span class="cl">yum install -y pcre pcre-devel
</span></span><span class="line"><span class="cl">yum install -y zlib zlib-devel
</span></span><span class="line"><span class="cl">yum install -y openssl openssl-devel
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-ä¸‹è½½å¹¶è§£å‹-nginx">2. ä¸‹è½½å¹¶è§£å‹ Nginx
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /usr/local
</span></span><span class="line"><span class="cl">wget http://nginx.org/download/nginx-1.22.1.tar.gz
</span></span><span class="line"><span class="cl">tar -zxvf nginx-1.22.1.tar.gz
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> nginx-1.22.1
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-ç¼–è¯‘å®‰è£…">3. ç¼–è¯‘å®‰è£…
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./configure --with-http_ssl_module  <span class="c1"># æ·»åŠ  SSL æ¨¡å—æ”¯æŒ</span>
</span></span><span class="line"><span class="cl">make                                 <span class="c1"># ç¼–è¯‘</span>
</span></span><span class="line"><span class="cl">make install                         <span class="c1"># å®‰è£…</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="-å¸¸ç”¨å‘½ä»¤æ•´ç†">ğŸš€ å¸¸ç”¨å‘½ä»¤æ•´ç†
</h3><p>åœ¨ <code>/usr/local/nginx/sbin</code> ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./nginx              <span class="c1"># å¯åŠ¨ Nginx</span>
</span></span><span class="line"><span class="cl">./nginx -s reload    <span class="c1"># çƒ­é‡è½½é…ç½®</span>
</span></span><span class="line"><span class="cl">./nginx -s stop      <span class="c1"># åœæ­¢ Nginx</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ">æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps -ef <span class="p">|</span> grep nginx
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root    <span class="m">706455</span>   <span class="m">1</span>    <span class="m">0</span> 12:34 ?  nginx: master process ./nginx
</span></span><span class="line"><span class="cl">nobody  <span class="m">706456</span>   ...  <span class="m">0</span> 12:34 ?  nginx: worker process
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ¤æ–­å¯åŠ¨çŠ¶æ€ï¼š</p>
<ul>
<li>âœ”ï¸ <strong>æ­£å¸¸</strong>ï¼šå‡ºç° <code>master process</code> å’Œ <code>worker process</code></li>
<li>âŒ <strong>å¼‚å¸¸</strong>ï¼šåªæœ‰ <code>master</code> æ²¡æœ‰ <code>worker</code>ï¼Œè¯´æ˜é…ç½®æœ‰è¯¯</li>
<li>âš ï¸ <strong>å¤šä¸ªè¿›ç¨‹</strong>ï¼šè¯´æ˜é‡å¤å¯åŠ¨äº†ï¼Œå»ºè®®å…ˆæ‰§è¡Œ <code>pkill nginx</code></li>
</ul>
<hr>
<h3 id="é…ç½®ä¸æµ‹è¯•">é…ç½®ä¸æµ‹è¯•
</h3><h4 id="-é…ç½®æ–‡ä»¶ç¤ºä¾‹nginxconf">ğŸ“„ é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆ<code>nginx.conf</code>ï¼‰
</h4><p>è·¯å¾„ï¼š<code>/usr/local/nginx/conf/nginx.conf</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="c1"># å®šä¹‰å·¥ä½œè¿›ç¨‹æ•°é‡ï¼Œé€šå¸¸è®¾ç½®ä¸º CPU æ ¸å¿ƒæ•°ï¼Œè¿™é‡Œç¤ºä¾‹ç”¨1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">worker_processes</span>  <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># æ¯ä¸ªå·¥ä½œè¿›ç¨‹å…è®¸çš„æœ€å¤§è¿æ¥æ•°ï¼ˆå«å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿æ¥ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">worker_connections</span>  <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># å¼•å…¥ MIME ç±»å‹æ˜ å°„æ–‡ä»¶ï¼Œç”¨æ¥è¯†åˆ«æ–‡ä»¶æ‰©å±•åå¯¹åº”çš„å†…å®¹ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">include</span>       <span class="s">mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># é»˜è®¤çš„ MIME ç±»å‹ï¼Œæ–‡ä»¶ç±»å‹æœªåŒ¹é…æ—¶ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># å¯ç”¨é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ–¹å¼ï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># è¿æ¥ä¿æŒæ´»åŠ¨çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¶…è¿‡æ­¤æ—¶é—´å…³é—­è¿æ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">keepalive_timeout</span>  <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># ç›‘å¬ç«¯å£8080ï¼ŒHTTPæœåŠ¡é»˜è®¤ç«¯å£æ˜¯80ï¼Œè¿™é‡Œæ”¹ä¸º8080ç¤ºä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">listen</span>       <span class="mi">8080</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># æœåŠ¡å™¨åç§°ï¼Œæ”¯æŒåŸŸåæˆ–IPï¼Œè¿™é‡Œç”¨localhostä½œä¸ºæœ¬æœºæµ‹è¯•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">server_name</span>  <span class="s">localhost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># ç½‘ç«™æ ¹ç›®å½•ï¼ŒNginx ä¼šä»è¿™é‡ŒæŸ¥æ‰¾æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kn">root</span>   <span class="s">/usr/local/nginx/html/dist</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># é»˜è®¤é¦–é¡µæ–‡ä»¶ï¼Œè®¿é—®ç›®å½•æ—¶é»˜è®¤åŠ è½½çš„æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kn">index</span>  <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># å®šä¹‰é”™è¯¯é¡µé¢ï¼Œå½“å‡ºç°500ã€502ã€503ã€504é”™è¯¯æ—¶ï¼Œè·³è½¬åˆ°è¯¥é¡µé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">error_page</span>   <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span>  <span class="s">/50x.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="æµ‹è¯•æ˜¯å¦æˆåŠŸ">æµ‹è¯•æ˜¯å¦æˆåŠŸ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://&lt;ä½ çš„å…¬ç½‘IP&gt;:8080
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å¦‚æœè¿”å›é¡µé¢å†…å®¹ï¼Œè¯´æ˜ Nginx æˆåŠŸå“åº”</li>
<li>å¦åˆ™æ£€æŸ¥é˜²ç«å¢™ / ç«¯å£æ˜¯å¦å¼€æ”¾</li>
</ul>
<hr>
<h3 id="-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹
</h3><ul>
<li><strong>ç›‘å¬ç«¯å£ä¸º 8080</strong>ï¼ˆéé»˜è®¤ 80ï¼‰ï¼Œéœ€ç‰¹åˆ«æ³¨æ„é˜²ç«å¢™è®¾ç½®</li>
<li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <strong>é˜¿é‡Œäº‘æœåŠ¡å™¨</strong>ï¼Œè¯·åœ¨æ§åˆ¶å°ï¼š
<ul>
<li>æ‰¾åˆ°å®‰å…¨ç»„ â†’ ç¼–è¾‘å…¥æ–¹å‘è§„åˆ™ â†’ å¼€æ”¾ <strong>8080 ç«¯å£</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>å³ä½¿äº‘æœåŠ¡å™¨å‚å•†ï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰çš„â€œå®‰å…¨ç»„â€å·²ç»å¼€æ”¾ç«¯å£ï¼Œå¦‚æœ æœåŠ¡å™¨æ“ä½œç³»ç»Ÿå†…éƒ¨ è¿˜æœ‰é˜²ç«å¢™è§„åˆ™æ²¡æœ‰æ”¾è¡Œå¯¹åº”ç«¯å£ï¼Œä¹Ÿä¼šå¯¼è‡´æ— æ³•è®¿é—®ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl status firewalld
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è‹¥æ­£åœ¨è¿è¡Œï¼Œæ‰§è¡ŒæŸ¥çœ‹ç«¯å£å¼€æ”¾æƒ…å†µ</span>
</span></span><span class="line"><span class="cl">firewall-cmd --list-all
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è‹¥æœªå¼€æ”¾æŒ‡å®šç«¯å£ï¼Œå¯æ‰§è¡Œ</span>
</span></span><span class="line"><span class="cl">firewall-cmd --permanent --add-port<span class="o">=</span>8080/tcp
</span></span><span class="line"><span class="cl">firewall-cmd --reload
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å†æ¬¡æ‰§è¡ŒæŸ¥çœ‹ç«¯å£å¼€æ”¾æƒ…å†µ</span>
</span></span><span class="line"><span class="cl">firewall-cmd --list-all
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##å®æ“</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@iZbp15al0g417943ohz4h1Z ~<span class="o">]</span><span class="c1"># firewall-cmd --list-all</span>
</span></span><span class="line"><span class="cl">public <span class="o">(</span>active<span class="o">)</span>
</span></span><span class="line"><span class="cl">  target: default
</span></span><span class="line"><span class="cl">  icmp-block-inversion: no
</span></span><span class="line"><span class="cl">  interfaces: eth0
</span></span><span class="line"><span class="cl">  sources: 
</span></span><span class="line"><span class="cl">  services: cockpit dhcpv6-client ssh
</span></span><span class="line"><span class="cl">  ports: 20/tcp 21/tcp 22/tcp 80/tcp 443/tcp 8888/tcp 39000-40000/tcp 9999/tcp 8080/tcp <span class="c1"># æ²¡æœ‰8989ç«¯å£</span>
</span></span><span class="line"><span class="cl">  protocols: 
</span></span><span class="line"><span class="cl">  forward: no
</span></span><span class="line"><span class="cl">  masquerade: no
</span></span><span class="line"><span class="cl">  forward-ports: 
</span></span><span class="line"><span class="cl">  source-ports: 
</span></span><span class="line"><span class="cl">  icmp-blocks: 
</span></span><span class="line"><span class="cl">  rich rules: 
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@iZbp15al0g417943ohz4h1Z ~<span class="o">]</span><span class="c1"># firewall-cmd --permanent --add-port=8989/tcp</span>
</span></span><span class="line"><span class="cl">success
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@iZbp15al0g417943ohz4h1Z ~<span class="o">]</span><span class="c1"># firewall-cmd --reload</span>
</span></span><span class="line"><span class="cl">^<span class="o">[[</span>Asuccess
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@iZbp15al0g417943ohz4h1Z ~<span class="o">]</span><span class="c1"># firewall-cmd --list-all</span>
</span></span><span class="line"><span class="cl">public <span class="o">(</span>active<span class="o">)</span>
</span></span><span class="line"><span class="cl">  target: default
</span></span><span class="line"><span class="cl">  icmp-block-inversion: no
</span></span><span class="line"><span class="cl">  interfaces: eth0
</span></span><span class="line"><span class="cl">  sources: 
</span></span><span class="line"><span class="cl">  services: cockpit dhcpv6-client ssh
</span></span><span class="line"><span class="cl">  ports: 20/tcp 21/tcp 22/tcp 80/tcp 443/tcp 8888/tcp 39000-40000/tcp 9999/tcp 8080/tcp 8989/tcp
</span></span><span class="line"><span class="cl">  protocols: 
</span></span><span class="line"><span class="cl">  forward: no
</span></span><span class="line"><span class="cl">  masquerade: no
</span></span><span class="line"><span class="cl">  forward-ports: 
</span></span><span class="line"><span class="cl">  source-ports: 
</span></span><span class="line"><span class="cl">  icmp-blocks: 
</span></span><span class="line"><span class="cl">  rich rules: 
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<ul>
<li>è‹¥ä½ æ›´å–œæ¬¢é»˜è®¤ HTTP ç«¯å£ <code>80</code>ï¼Œå¯å°† <code>listen 8080</code> æ”¹ä¸º <code>listen 80</code></li>
</ul>
<h1 id="nginx-é…ç½®-lindablogxyz-åŸŸåå¯ç”¨-https">Nginx é…ç½® lindablog.xyz åŸŸåå¯ç”¨ HTTPS
</h1><h2 id="ä¸€å‡†å¤‡æ¡ä»¶">ä¸€ã€å‡†å¤‡æ¡ä»¶
</h2><ul>
<li>éƒ¨ç½²é¡¹ç›®æ–‡ä»¶ä½ç½®ï¼š<code>/usr/local/nginx/html/dist</code></li>
<li>é˜¿é‡Œäº‘ç”³è¯· SSL å‡­è¯æ¡£æ¡ˆï¼ˆæˆ‘ç”³è¯·çš„æ˜¯å…è´¹è¯ä¹¦3æœˆä¸€æ¢ï¼‰ï¼š
<ul>
<li><code>jnalindablog.xyz.pem</code>ï¼ˆå‡­è¯ï¼‰</li>
<li><code>jnalindablog.xyz.key</code>ï¼ˆç§é’¥ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="äºŒå»ºç«‹-ssl-å‡­è¯ç›®å½•å¹¶ä¸Šä¼ sslå‡­è¯æ¡£æ¡ˆ">äºŒã€å»ºç«‹ SSL å‡­è¯ç›®å½•å¹¶ä¸Šä¼ sslå‡­è¯æ¡£æ¡ˆ
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir -p /usr/local/nginx/ssl
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä¸‰æ’°å†™-nginx-https-é…ç½®æ¡£">ä¸‰ã€æ’°å†™ Nginx HTTPS é…ç½®æ¡£
</h2><p>åœ¨ <code>/usr/local/nginx/conf/nginx.conf</code> ä¸­åŠ å…¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">worker_processes</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">worker_connections</span> <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">include</span>       <span class="s">mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">keepalive_timeout</span> <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># åŠ å…¥é€™ä¸€è¡Œï¼šå¼•ç”¨ä½ è‡ªå®šç¾©çš„ server é…ç½®æª”æ¡ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">include</span> <span class="s">/usr/local/nginx/conf/conf.d/*.conf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ <code>/usr/local/nginx/conf/conf.d/lindablog.conf</code> ä¸­åŠ å…¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ç›‘å¬ 443 ç«¯å£å¹¶å¯ç”¨ SSL/TLSï¼Œæä¾› HTTPS æœåŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># æœåŠ¡å™¨åŸŸåï¼Œé…ç½®æˆä½ çš„ç½‘ç«™åŸŸå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">server_name</span> <span class="s">lindablog.xyz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># SSL è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼Œå…¬é’¥è¯ä¹¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">ssl_certificate</span>     <span class="s">/usr/local/nginx/ssl/jnalindablog.xyz.pem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># SSL ç§é’¥æ–‡ä»¶è·¯å¾„ï¼Œå’Œè¯ä¹¦åŒ¹é…çš„ç§é’¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">ssl_certificate_key</span> <span class="s">/usr/local/nginx/ssl/jnalindablog.xyz.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># å…è®¸ä½¿ç”¨çš„ TLS åè®®ç‰ˆæœ¬ï¼Œæ¨èå¯ç”¨ 1.2 å’Œ 1.3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># åŠ å¯†å¥—ä»¶ï¼Œæ’é™¤æ‰å¼±åŠ å¯†ç®—æ³•ï¼Œç¡®ä¿è¿æ¥å®‰å…¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">ssl_ciphers</span> <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># ç½‘ç«™æ ¹ç›®å½•ï¼Œå­˜æ”¾å‰ç«¯é™æ€æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">root</span> <span class="s">/usr/local/nginx/html/dist</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># é»˜è®¤é¦–é¡µæ–‡ä»¶ï¼Œè®¿é—®æ ¹è·¯å¾„æ—¶é»˜è®¤åŠ è½½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">index</span> <span class="s">index.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># try_files å°è¯•è®¿é—®è¯·æ±‚çš„ URIï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› index.html
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1"># ä¸»è¦ç”¨äº SPAï¼ˆå•é¡µåº”ç”¨ï¼‰æ”¯æŒè·¯ç”±åˆ·æ–°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri/</span> <span class="s">/index.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ç›‘å¬ HTTP çš„ 80 ç«¯å£ï¼Œç”¨äºé‡å®šå‘æ‰€æœ‰è¯·æ±‚åˆ° HTTPS
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># æœåŠ¡å™¨åŸŸå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">server_name</span> <span class="s">lindablog.xyz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># æ‰€æœ‰è®¿é—® 80 ç«¯å£çš„è¯·æ±‚ï¼Œéƒ½é‡å®šå‘ï¼ˆ301æ°¸ä¹…é‡å®šå‘ï¼‰åˆ°å¯¹åº”çš„ HTTPS åœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å››æµ‹è¯•ä¸é‡è½½-nginx">å››ã€æµ‹è¯•ä¸é‡è½½ Nginx
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">/usr/local/nginx/sbin/nginx -t
</span></span><span class="line"><span class="cl">/usr/local/nginx/sbin/nginx -s reload
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="äº”éªŒè¯-https-å¯ç”¨">äº”ã€éªŒè¯ HTTPS å¯ç”¨
</h2><ul>
<li>æµè§ˆå™¨è®¿é—® <code>https://lindablog.xyz</code>ï¼Œç½‘å€åˆ—æ˜¾ç¤ºé”å¤´ç¬¦å· ğŸ”’</li>
<li>ç‚¹å‡»é”å¤´æŸ¥çœ‹å‡­è¯ç»†èŠ‚æˆ–è€…å³é”®æ£€æŸ¥æ‰¾åˆ°éšç§ä¸å®‰å…¨</li>
<li>ä½¿ç”¨çº¿ä¸Šå·¥å…·æ£€æŸ¥ï¼š
<ul>
<li><a class="link" href="https://www.ssllabs.com/ssltest/"  target="_blank" rel="noopener"
    >SSL Labs æµ‹è¯•</a></li>
<li><a class="link" href="https://www.sslshopper.com/ssl-checker.html"  target="_blank" rel="noopener"
    >SSL Shopper æ£€æŸ¥</a></li>
</ul>
</li>
</ul>
<h2 id="å¤‡æ³¨">å¤‡æ³¨
</h2><ul>
<li><code>.pem</code> ä¸ <code>.crt</code> å¯é€šç”¨äº Nginx</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/nginx/">Nginx</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>404_@æ—è¾¾æ‰€ä½œ</span>

    </section>

    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            æœ€åæ›´æ–°äº Jun 01, 2025 12:25 &#43;0800
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/0603-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6docker/">
        
        

        <div class="article-details">
            <h2 class="article-title">åˆæ­¥æ¥è§¦Docker</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/0321-webpack%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6/">
        
        
            <div class="article-image">
                <img src="/p/0321-webpack%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6/webpack.f485e224ca7ad1002ddcc3f447ca97fc_hu_7866d274ce09ebfa.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Webpackåˆæ­¥æ¥è§¦"
                        data-key="0321 Webpackåˆæ­¥æ¥è§¦" 
                        data-hash="md5-9IXiJMp60QAt3MP0R8qX/A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Webpackåˆæ­¥æ¥è§¦</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/0315-%E4%BB%80%E4%B9%88%E6%98%AFseo/">
        
        
            <div class="article-image">
                <img src="/p/0315-%E4%BB%80%E4%B9%88%E6%98%AFseo/SEO.4b516944fa2f62ea7d76532a57a364e8_hu_7ffb7c7fddd4543f.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ä»€ä¹ˆæ˜¯SEOï¼Ÿ"
                        data-key="0315 ä»€ä¹ˆæ˜¯SEOï¼Ÿ" 
                        data-hash="md5-S1FpRPovYup9dlMqV6Nk6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ä»€ä¹ˆæ˜¯SEOï¼Ÿ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/seo%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5---canonical/">
        
        
            <div class="article-image">
                <img src="/p/seo%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5---canonical/SEO.4b516944fa2f62ea7d76532a57a364e8_hu_7ffb7c7fddd4543f.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post SEOä¼˜åŒ–æ‰‹æ®µ---Canonical"
                        data-key="SEOä¼˜åŒ–æ‰‹æ®µ---Canonical" 
                        data-hash="md5-S1FpRPovYup9dlMqV6Nk6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SEOä¼˜åŒ–æ‰‹æ®µ---Canonical</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/">
        
        
            <div class="article-image">
                
                    <img src="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/error.svg" loading="lazy" data-key="" data-hash="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/error.svg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">giteeä»“åº“çš„ç¬¬ä¸€æ¬¡æ¨é€é‡è§çš„é”™è¯¯</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 404_@æ—è¾¾
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>



    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script src="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.css" crossorigin="anonymous" />
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>

<script defer src="https://cn.vercount.one/js"></script>
<script>
    function showHideView() {
        
        let viewCounts = document.querySelectorAll("#viewCount");
        if (viewCounts) {
            
            let article =  document.querySelector(".article-page");
            if (!article) {
                viewCounts.forEach(ele => {
                    ele.style.display = 'none';
                });
            }
        }
    }
    
    showHideView();
</script>

    </body>
</html>
