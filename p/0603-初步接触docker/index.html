<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Docker 笔记：常用命令整理 镜像管理 查看镜像：docker images 拉取镜像：docker pull xxx 删除镜像：docker rmi xxx 容器管理 查看容器：docker ps / docker ps -a 进入容器：docker exec -it 容器名 bash 停止容器：docker stop 容器名 删除容器：docker rm 容器名 docker-compose 常用 启动：docker-compose up -d 停止：docker-compose down 查看：docker-compose ps 拉镜像：docker-compose pull 常用组合示例 docker run -d -p 8080:80 nginx docker exec -it my-container bash docker-compose up &ndash;build 清理空间 docker system prune -a 我的fre123部署流程 以阿里云为例 容器部署 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 回到 home 目录，确保路径正确 cd ~ # 克隆项目 git clone https://github.com/fre123-com/fre123-nav.git # 进入 deploy 目录（docker-compose.yml 文件所在） cd fre123-nav/deploy # 拉取镜像 sudo docker-compose pull # 启动服务 sudo docker-compose up -d 成功部署 1 2 3 4 5 6 7 [root@iZbp15al0g417943ohz4h1Z deploy]# docker-compose ps WARN[0000] /root/fre123-nav/deploy/docker-compose.yaml: version is obsolete NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS fre123-mongo mongo:3.6 &#34;docker-entrypoint.s…&#34; fre123-mongo 10 seconds ago Up 7 seconds 0.0.0.0:27077-&gt;27017/tcp, :::27077-&gt;27017/tcp fre123-nav-admin fre123dev/fre123-nav-admin:v0.1.0 &#34;/bin/bash nginx_sta…&#34; fre123-nav-admin 10 seconds ago Up 7 seconds 0.0.0.0:3001-&gt;80/tcp, :::3001-&gt;80/tcp fre123-nav-api fre123dev/fre123-nav-api:v0.1.0 &#34;pipenv run api pro&#34; fre123-nav-api 10 seconds ago Up 6 seconds 0.0.0.0:8765-&gt;8765/tcp, :::8765-&gt;8765/tcp fre123-nav-web fre123dev/fre123-nav-web:v0.1.0 &#34;/bin/sh start.sh&#34; fre123-nav-web 10 seconds ago Up 7 seconds 0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp 下一步：浏览器访问 你可以现在在浏览器访问以下地址：\n">
<title>初步接触Docker</title>

<link rel='canonical' href='https://linsk27.github.io/p/0603-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6docker/'>

<link rel="stylesheet" href="/scss/style.min.bc2abce7b280c937652ff91193111ba640a7a3d53e370803422a6138d0c6e249.css"><meta property='og:title' content="初步接触Docker">
<meta property='og:description' content="Docker 笔记：常用命令整理 镜像管理 查看镜像：docker images 拉取镜像：docker pull xxx 删除镜像：docker rmi xxx 容器管理 查看容器：docker ps / docker ps -a 进入容器：docker exec -it 容器名 bash 停止容器：docker stop 容器名 删除容器：docker rm 容器名 docker-compose 常用 启动：docker-compose up -d 停止：docker-compose down 查看：docker-compose ps 拉镜像：docker-compose pull 常用组合示例 docker run -d -p 8080:80 nginx docker exec -it my-container bash docker-compose up &ndash;build 清理空间 docker system prune -a 我的fre123部署流程 以阿里云为例 容器部署 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 回到 home 目录，确保路径正确 cd ~ # 克隆项目 git clone https://github.com/fre123-com/fre123-nav.git # 进入 deploy 目录（docker-compose.yml 文件所在） cd fre123-nav/deploy # 拉取镜像 sudo docker-compose pull # 启动服务 sudo docker-compose up -d 成功部署 1 2 3 4 5 6 7 [root@iZbp15al0g417943ohz4h1Z deploy]# docker-compose ps WARN[0000] /root/fre123-nav/deploy/docker-compose.yaml: version is obsolete NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS fre123-mongo mongo:3.6 &#34;docker-entrypoint.s…&#34; fre123-mongo 10 seconds ago Up 7 seconds 0.0.0.0:27077-&gt;27017/tcp, :::27077-&gt;27017/tcp fre123-nav-admin fre123dev/fre123-nav-admin:v0.1.0 &#34;/bin/bash nginx_sta…&#34; fre123-nav-admin 10 seconds ago Up 7 seconds 0.0.0.0:3001-&gt;80/tcp, :::3001-&gt;80/tcp fre123-nav-api fre123dev/fre123-nav-api:v0.1.0 &#34;pipenv run api pro&#34; fre123-nav-api 10 seconds ago Up 6 seconds 0.0.0.0:8765-&gt;8765/tcp, :::8765-&gt;8765/tcp fre123-nav-web fre123dev/fre123-nav-web:v0.1.0 &#34;/bin/sh start.sh&#34; fre123-nav-web 10 seconds ago Up 7 seconds 0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp 下一步：浏览器访问 你可以现在在浏览器访问以下地址：\n">
<meta property='og:url' content='https://linsk27.github.io/p/0603-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6docker/'>
<meta property='og:site_name' content='404_@林达'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Docker' /><meta property='article:published_time' content='2025-06-03T00:58:55&#43;08:00'/><meta property='article:modified_time' content='2025-06-03T00:58:55&#43;08:00'/>
<meta name="twitter:title" content="初步接触Docker">
<meta name="twitter:description" content="Docker 笔记：常用命令整理 镜像管理 查看镜像：docker images 拉取镜像：docker pull xxx 删除镜像：docker rmi xxx 容器管理 查看容器：docker ps / docker ps -a 进入容器：docker exec -it 容器名 bash 停止容器：docker stop 容器名 删除容器：docker rm 容器名 docker-compose 常用 启动：docker-compose up -d 停止：docker-compose down 查看：docker-compose ps 拉镜像：docker-compose pull 常用组合示例 docker run -d -p 8080:80 nginx docker exec -it my-container bash docker-compose up &ndash;build 清理空间 docker system prune -a 我的fre123部署流程 以阿里云为例 容器部署 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 回到 home 目录，确保路径正确 cd ~ # 克隆项目 git clone https://github.com/fre123-com/fre123-nav.git # 进入 deploy 目录（docker-compose.yml 文件所在） cd fre123-nav/deploy # 拉取镜像 sudo docker-compose pull # 启动服务 sudo docker-compose up -d 成功部署 1 2 3 4 5 6 7 [root@iZbp15al0g417943ohz4h1Z deploy]# docker-compose ps WARN[0000] /root/fre123-nav/deploy/docker-compose.yaml: version is obsolete NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS fre123-mongo mongo:3.6 &#34;docker-entrypoint.s…&#34; fre123-mongo 10 seconds ago Up 7 seconds 0.0.0.0:27077-&gt;27017/tcp, :::27077-&gt;27017/tcp fre123-nav-admin fre123dev/fre123-nav-admin:v0.1.0 &#34;/bin/bash nginx_sta…&#34; fre123-nav-admin 10 seconds ago Up 7 seconds 0.0.0.0:3001-&gt;80/tcp, :::3001-&gt;80/tcp fre123-nav-api fre123dev/fre123-nav-api:v0.1.0 &#34;pipenv run api pro&#34; fre123-nav-api 10 seconds ago Up 6 seconds 0.0.0.0:8765-&gt;8765/tcp, :::8765-&gt;8765/tcp fre123-nav-web fre123dev/fre123-nav-web:v0.1.0 &#34;/bin/sh start.sh&#34; fre123-nav-web 10 seconds ago Up 7 seconds 0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp 下一步：浏览器访问 你可以现在在浏览器访问以下地址：\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended">


        <div id="article-toolbar" style="position: sticky;top: 5px;z-index: 1000;">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#docker-笔记常用命令整理">Docker 笔记：常用命令整理</a>
      <ol>
        <li><a href="#镜像管理">镜像管理</a></li>
        <li><a href="#容器管理">容器管理</a></li>
        <li><a href="#docker-compose-常用">docker-compose 常用</a></li>
        <li><a href="#常用组合示例">常用组合示例</a></li>
        <li><a href="#清理空间">清理空间</a></li>
      </ol>
    </li>
    <li><a href="#我的fre123部署流程">我的fre123部署流程</a></li>
  </ol>

  <ol>
    <li><a href="#前置条件">前置条件</a></li>
    <li><a href="#将项目上传到阿里云服务器">将项目上传到阿里云服务器</a>
      <ol>
        <li><a href="#方法一finalshell-右键上传">方法一：FinalShell 右键上传</a></li>
        <li><a href="#方法二命令行-scp">方法二：命令行 <code>scp</code></a></li>
      </ol>
    </li>
    <li><a href="#在服务器上编写-dockerfile">在服务器上编写 Dockerfile</a></li>
    <li><a href="#构建-docker-镜像">构建 Docker 镜像</a></li>
    <li><a href="#运行-docker-容器">运行 Docker 容器</a></li>
    <li><a href="#可选推送镜像到-docker-hub">（可选）推送镜像到 Docker Hub</a></li>
    <li><a href="#可选用-nginx-反向代理统一入口">（可选）用 Nginx 反向代理统一入口</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%B7%A5%E7%A8%8B/" >
                工程
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/0603-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6docker/">初步接触Docker</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-06-03</time>
            </div>
	        
        <div id="viewCount">
            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
            <time class="article-time--reading">
                
                <span id="vercount_value_page_pv">loading... </span>次
            </time>
        </div>

        

        
    </footer>
    

    

    
</div>


</header>

    <section class="article-content">
    
    
    <h2 id="docker-笔记常用命令整理">Docker 笔记：常用命令整理
</h2><h3 id="镜像管理">镜像管理
</h3><ul>
<li>查看镜像：docker images</li>
<li>拉取镜像：docker pull xxx</li>
<li>删除镜像：docker rmi xxx</li>
</ul>
<h3 id="容器管理">容器管理
</h3><ul>
<li>查看容器：docker ps / docker ps -a</li>
<li>进入容器：docker exec -it 容器名 bash</li>
<li>停止容器：docker stop 容器名</li>
<li>删除容器：docker rm 容器名</li>
</ul>
<h3 id="docker-compose-常用">docker-compose 常用
</h3><ul>
<li>启动：docker-compose up -d</li>
<li>停止：docker-compose down</li>
<li>查看：docker-compose ps</li>
<li>拉镜像：docker-compose pull</li>
</ul>
<h3 id="常用组合示例">常用组合示例
</h3><ul>
<li>docker run -d -p 8080:80 nginx</li>
<li>docker exec -it my-container bash</li>
<li>docker-compose up &ndash;build</li>
</ul>
<h3 id="清理空间">清理空间
</h3><ul>
<li>docker system prune -a</li>
</ul>
<h2 id="我的fre123部署流程">我的fre123部署流程
</h2><ul>
<li>以阿里云为例</li>
</ul>
<ol>
<li>容器部署</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 回到 home 目录，确保路径正确</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> ~
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 克隆项目</span>
</span></span><span class="line"><span class="cl">git clone https://github.com/fre123-com/fre123-nav.git
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 进入 deploy 目录（docker-compose.yml 文件所在）</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> fre123-nav/deploy
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 拉取镜像</span>
</span></span><span class="line"><span class="cl">sudo docker-compose pull
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 启动服务</span>
</span></span><span class="line"><span class="cl">sudo docker-compose up -d
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>成功部署</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@iZbp15al0g417943ohz4h1Z deploy<span class="o">]</span><span class="c1"># docker-compose ps</span>
</span></span><span class="line"><span class="cl">WARN<span class="o">[</span>0000<span class="o">]</span> /root/fre123-nav/deploy/docker-compose.yaml: version is obsolete 
</span></span><span class="line"><span class="cl">NAME               IMAGE                               COMMAND                   SERVICE            CREATED          STATUS         PORTS
</span></span><span class="line"><span class="cl">fre123-mongo       mongo:3.6                           <span class="s2">&#34;docker-entrypoint.s…&#34;</span>   fre123-mongo       <span class="m">10</span> seconds ago   Up <span class="m">7</span> seconds   0.0.0.0:27077-&gt;27017/tcp, :::27077-&gt;27017/tcp
</span></span><span class="line"><span class="cl">fre123-nav-admin   fre123dev/fre123-nav-admin:v0.1.0   <span class="s2">&#34;/bin/bash nginx_sta…&#34;</span>   fre123-nav-admin   <span class="m">10</span> seconds ago   Up <span class="m">7</span> seconds   0.0.0.0:3001-&gt;80/tcp, :::3001-&gt;80/tcp
</span></span><span class="line"><span class="cl">fre123-nav-api     fre123dev/fre123-nav-api:v0.1.0     <span class="s2">&#34;pipenv run api pro&#34;</span>      fre123-nav-api     <span class="m">10</span> seconds ago   Up <span class="m">6</span> seconds   0.0.0.0:8765-&gt;8765/tcp, :::8765-&gt;8765/tcp
</span></span><span class="line"><span class="cl">fre123-nav-web     fre123dev/fre123-nav-web:v0.1.0     <span class="s2">&#34;/bin/sh start.sh&#34;</span>        fre123-nav-web     <span class="m">10</span> seconds ago   Up <span class="m">7</span> seconds   0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>下一步：浏览器访问</li>
</ol>
<p>你可以现在在浏览器访问以下地址：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http://&lt;你的阿里云服务器公网IP&gt;:3000     <span class="c1"># 主站前端</span>
</span></span><span class="line"><span class="cl">http://&lt;你的阿里云服务器公网IP&gt;:3001     <span class="c1"># 管理后台</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>注意：确保端口已在阿里云安全组开放
如果访问不了，可能是安全组没放行这些端口：</li>
</ol>
<ul>
<li>3000（前端）</li>
<li>3001（管理后台）</li>
<li>8765（后端 API，如果你需要访问）</li>
<li>27077（MongoDB 端口，通常不建议暴露）
你可以登录 阿里云控制台 → 安全组
找到对应实例的安全组，手动添加规则（其他服务器同理）</li>
</ul>
<ol start="5">
<li>服务器防火墙设置
除了要在阿里云开放安全组，你还需要设置服务器本地防火墙开放，具体操作步骤可查看<a class="link" href="" >初步接触Nginx</a>的文章</li>
</ol>
<h1 id="-nuxt-博客项目从-windows-上传到阿里云服务器并用-docker-部署上线教程">🐳 Nuxt 博客项目从 Windows 上传到阿里云服务器并用 Docker 部署上线教程
</h1><blockquote>
<p>本教程适用于：在 Windows 本地开发 Nuxt 3 项目，在阿里云服务器（Linux）上通过 Docker 打包、运行并对外提供服务。</p></blockquote>
<hr>
<h2 id="前置条件">前置条件
</h2><ul>
<li><strong>本地开发环境（Windows）</strong> 上已有一个可正常构建的 Nuxt 3 项目。</li>
<li><strong>阿里云服务器</strong>（推荐 CentOS 或 Ubuntu）已安装 Docker（无需本地安装 Docker）。</li>
<li>拥有服务器的 SSH 登录权限（FinalShell、XShell、PuTTY 等工具）。</li>
<li>（可选）已注册 Docker Hub 账号，用于推送镜像分享给他人。</li>
</ul>
<hr>
<h2 id="将项目上传到阿里云服务器">将项目上传到阿里云服务器
</h2><h3 id="方法一finalshell-右键上传">方法一：FinalShell 右键上传
</h3><ol>
<li>打开 FinalShell，连接到你的阿里云服务器。</li>
<li>在左侧文件管理器中定位到本地项目文件夹。</li>
<li>右键选中项目根目录，选择 &ldquo;上传到服务器&rdquo;，目标路径可选 <code>/root/nuxt-blog</code>。</li>
</ol>
<h3 id="方法二命令行-scp">方法二：命令行 <code>scp</code>
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 在 Windows PowerShell 或 Git Bash 中运行：</span>
</span></span><span class="line"><span class="cl">scp -r C:/path/to/your/nuxt-blog root@&lt;服务器IP&gt;:/root/nuxt-blog
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="在服务器上编写-dockerfile">在服务器上编写 Dockerfile
</h2><ol>
<li>
<p>SSH 登录服务器：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh root@&lt;服务器IP&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>进入项目目录：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /root/nuxt-blog
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>创建并编辑 <code>Dockerfile</code>（适用于Nuxt3）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="cl"><span class="c"># ---------- 构建阶段 ----------</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> node:18 AS builder</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 设置工作目录</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">WORKDIR</span><span class="s"> /app</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 增加 Node.js 可用内存（防止内存不足）</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">ENV</span> <span class="nv">NODE_OPTIONS</span><span class="o">=</span><span class="s2">&#34;--max-old-space-size=3072&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 拷贝依赖配置并安装</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> package.json yarn.lock ./<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> yarn install<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 拷贝全部项目源码</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> . .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 避免 nuxt 权限问题</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> chmod +x node_modules/.bin/nuxt<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 构建项目</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> node_modules/.bin/nuxt build<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># ---------- 运行阶段 ----------</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> node:18 AS runner</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 设置工作目录</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">WORKDIR</span><span class="s"> /app</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 仅复制必要文件，减小镜像体积</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> --from<span class="o">=</span>builder /app/.output .output<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> --from<span class="o">=</span>builder /app/node_modules ./node_modules<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> --from<span class="o">=</span>builder /app/package.json ./<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># Nuxt 默认端口</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">EXPOSE</span><span class="s"> 3000</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># 启动服务</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;node&#34;</span><span class="p">,</span> <span class="s2">&#34;.output/server/index.mjs&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<hr>
<h2 id="构建-docker-镜像">构建 Docker 镜像
</h2><p>在项目根目录执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># &lt;用户名&gt; 换成你的 Docker Hub 用户名或任意标识</span>
</span></span><span class="line"><span class="cl">docker build -t &lt;用户名&gt;/nuxt-blog:v1.0 .
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>-t</code>：为镜像打标签，格式为 <code>仓库名:版本</code>。</li>
<li><code>.</code>：表示当前目录的 Dockerfile。</li>
</ul>
<hr>
<h2 id="运行-docker-容器">运行 Docker 容器
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -d <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -p 3000:3000 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --name nuxt-blog-container <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  &lt;用户名&gt;/nuxt-blog:v1.0
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>-d</code>：后台运行容器。</li>
<li><code>-p 3000:3000</code>：映射宿主机 3000 端口到容器 3000 端口。</li>
<li><code>--name</code>：指定容器名称，方便管理。</li>
</ul>
<p><strong>测试访问</strong>：打开浏览器，访问 <code>http://&lt;服务器IP&gt;:3000</code>，能正常看到 Nuxt 页面即部署成功。</p>
<hr>
<h2 id="可选推送镜像到-docker-hub">（可选）推送镜像到 Docker Hub
</h2><ol>
<li>
<p>登录：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker login
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>推送：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker push &lt;用户名&gt;/nuxt-blog:v1.0
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>之后其他人只需：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull &lt;用户名&gt;/nuxt-blog:v1.0
</span></span><span class="line"><span class="cl">docker run -d -p 3000:3000 &lt;用户名&gt;/nuxt-blog:v1.0
</span></span></code></pre></td></tr></table>
</div>
</div><p>即可一键运行。</p>
<hr>
<h2 id="可选用-nginx-反向代理统一入口">（可选）用 Nginx 反向代理统一入口
</h2><p>若你希望通过域名（如 <code>blog.linsou.asia</code>）访问，并隐藏端口，可在服务器上安装并配置 Nginx：</p>
<ol>
<li>
<p>安装 Nginx：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo yum install -y nginx   <span class="c1"># CentOS</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 或 sudo apt install -y nginx   # Ubuntu</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>新建配置 <code>/etc/nginx/conf.d/nuxt-blog.conf</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">server_name</span> <span class="s">blog.linsou.asia</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:3000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>校验并重载：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo nginx -t
</span></span><span class="line"><span class="cl">sudo systemctl reload nginx
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>访问 <code>http://blog.linsou.asia</code> 即可直达 Nuxt 应用。</p>
<hr>
<blockquote>
<p>恭喜你！🎉 通过本教程，你已掌握从 Windows 传输项目、在 Linux 服务器上打包 Docker 镜像并部署 Nuxt 应用的全流程。</p></blockquote>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/docker/">Docker</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>404_@林达所作</span>

    </section>

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/0423-%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6nginx/">
        
        

        <div class="article-details">
            <h2 class="article-title">初步接触Nginx</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/0321-webpack%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6/">
        
        
            <div class="article-image">
                <img src="/p/0321-webpack%E5%88%9D%E6%AD%A5%E6%8E%A5%E8%A7%A6/webpack.f485e224ca7ad1002ddcc3f447ca97fc_hu_7866d274ce09ebfa.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Webpack初步接触"
                        data-key="0321 Webpack初步接触" 
                        data-hash="md5-9IXiJMp60QAt3MP0R8qX/A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Webpack初步接触</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/0315-%E4%BB%80%E4%B9%88%E6%98%AFseo/">
        
        
            <div class="article-image">
                <img src="/p/0315-%E4%BB%80%E4%B9%88%E6%98%AFseo/SEO.4b516944fa2f62ea7d76532a57a364e8_hu_7ffb7c7fddd4543f.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 什么是SEO？"
                        data-key="0315 什么是SEO？" 
                        data-hash="md5-S1FpRPovYup9dlMqV6Nk6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">什么是SEO？</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/seo%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5---canonical/">
        
        
            <div class="article-image">
                <img src="/p/seo%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5---canonical/SEO.4b516944fa2f62ea7d76532a57a364e8_hu_7ffb7c7fddd4543f.jpeg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post SEO优化手段---Canonical"
                        data-key="SEO优化手段---Canonical" 
                        data-hash="md5-S1FpRPovYup9dlMqV6Nk6A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SEO优化手段---Canonical</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/">
        
        
            <div class="article-image">
                
                    <img src="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/error.svg" loading="lazy" data-key="" data-hash="/p/gitee%E4%BB%93%E5%BA%93%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E9%81%87%E8%A7%81%E7%9A%84%E9%94%99%E8%AF%AF/error.svg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">gitee仓库的第一次推送遇见的错误</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 404_@林达
    </section>
    
    <section class="powerby">
        使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建 <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>



    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script src="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.css" crossorigin="anonymous" />
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>

<script defer src="https://cn.vercount.one/js"></script>
<script>
    function showHideView() {
        
        let viewCounts = document.querySelectorAll("#viewCount");
        if (viewCounts) {
            
            let article =  document.querySelector(".article-page");
            if (!article) {
                viewCounts.forEach(ele => {
                    ele.style.display = 'none';
                });
            }
        }
    }
    
    showHideView();
</script>

    </body>
</html>
